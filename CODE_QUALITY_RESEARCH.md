# Code Quality Tools Research for Bash/Shell Scripts (2025)

**Research conducted by:** Gemini (via 3Brains)
**Date:** $(date +'%Y-%m-%d')

## Summary

Gemini conducted 5 web searches to identify the best code quality tools for bash/shell script projects:
- "best bash shell script code quality tools 2025"
- "bash script formatters 2025"
- "bash script testing frameworks 2025"
- "bash script static analysis tools 2025"
- "CI/CD integration for shellcheck shfmt bats"

---

## 1. Linters

### **shellcheck** (Industry Standard)
- **Pros:** Industry standard for shell script linting
- **Cons:** Can be strict/opinionated
- **Recommendation:** Must-have for any bash project

---

## 2. Formatters

### **shfmt** (Recommended)
- **Pros:** Opinionated and widely adopted, automatic formatting
- **Cons:** Opinionated style may not match preferences
- **Install:** `sudo pacman -S shfmt` (Arch/Manjaro)

### **beautify**
- **Pros:** Popular code formatter
- **Cons:** Requires additional setup

---

## 3. Testing Frameworks

### **bats-core** (Recommended)
- **Pros:** Simple and popular testing framework, easy to learn
- **Cons:** Not as feature-rich as others
- **Install:** `sudo pacman -S bats` or via Git

### **shunit2**
- **Pros:** Full-featured BDD (Behavior-Driven Development) framework
- **Cons:** Has a learning curve

### **urchin**
- **Pros:** Port of popular xUnit framework
- **Cons:** Older/less maintained

---

## 4. Static Analysis Tools

### **shellcheck** (De-facto Standard)
- **Pros:** Comprehensive static analysis, catches common bugs
- **Cons:** Primary focus is linting (overlaps with category 1)

### Additional Tools
- Various specialized tools for specific use cases

---

## 5. CI/CD Integration

### Recommended Workflow

1. **Install Tools:** shellcheck, shfmt, bats-core
2. **Lint & Format Stage:**
   - `shfmt -d` - Check formatting (fails if incorrect)
   - `shellcheck` - Lint all shell scripts
3. **Test Stage:**
   - `bats test/` - Run test suite

### Example GitHub Actions Workflow

```yaml
name: Shell Script CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3

    - name: Install tools
      run: |
        sudo apt-get update
        sudo apt-get install -y shellcheck shfmt bats

    - name: Run shfmt check
      run: |
        find . -type f -name "*.sh" -print0 | xargs -0 shfmt -d -s

    - name: Run shellcheck
      run: |
        find . -type f -name "*.sh" -print0 | xargs -0 shellcheck -x

    - name: Run Bats tests
      run: |
        bats test/
```

---

## Recommendations for 3Brains Project

### Essential Tools (Install Now)
1. **shellcheck** - Lint all shell scripts
2. **shfmt** - Format code consistently
3. **bats-core** - Add tests for critical functions

### Installation Commands (Manjaro/Arch)
```bash
sudo pacman -S shellcheck shfmt bats
```

### Quick Checks
```bash
# Lint all scripts
find . -name "*.sh" -exec shellcheck {} \;

# Check formatting
find . -name "*.sh" -exec shfmt -d {} \;

# Format all scripts (in-place)
find . -name "*.sh" -exec shfmt -w {} \;
```

---

## Next Steps

1. ✅ Install shellcheck, shfmt, bats
2. ✅ Run shellcheck on existing scripts
3. ✅ Format scripts with shfmt
4. ⬜ Create bats test suite
5. ⬜ Set up GitHub Actions CI/CD
6. ⬜ Add quality badges to README

---

**Generated by 3Brains Multi-AI Orchestrator**
Claude (orchestration) + Gemini (research)
